import{r as o,o as y,c as w,a as s,b as n,w as v,u as p,d as B,e as d,P as S,S as C,_ as x,f as P,g as k,h as N,i as V,s as $,j as I}from"./index-D9LVu841.js";import{C as j}from"./CustomPagination-P6lXquuz.js";import{s as A}from"./index-D3o20Czv.js";const E={class:"page page-bookings"},z={class:"page-content"},F={class:"module module-with-scroller module-with-scroller-lg p-1"},H={class:"module-head flex justify-center items-center gap-4"},M={class:"page-content-bottom"},J={__name:"BookingsView",setup(T){const t=o(""),r=o(),c=o(15),g=o(0),m=o(0),u=o(!0),i=async()=>{var a;u.value=!0;try{const e=await B.getBookings({expression:t==null?void 0:t.value,status:(a=l==null?void 0:l.value)==null?void 0:a.name},null,m.value,c.value);if(!e.ok)throw new Error("Failed to load data");r.value=e.data,g.value=e.total}catch(e){e.value=e.message}finally{u.value=!1}},h=({page:a,rows:e})=>{m.value=a,c.value=e,i()},l=o(),f=o([...I]),_=a=>{l.value=a,i()},b=a=>{t.value=a,i()};return y(()=>{i()}),(a,e)=>(d(),w("div",E,[s(S,{title:"Bookings"}),n("div",z,[s(p($),{class:"booking-table-module mt-4"},{content:v(()=>[n("div",F,[n("div",H,[e[0]||(e[0]=n("h3",{class:"module-head-title"},"Car Bookings",-1)),s(C,{placeholder:"Search for car, etc",onSearchInput:b,filter:t.value,class:"ml-auto booking-filter",variant:"dark"},null,8,["filter"]),s(x,{options:f.value,selected:l.value,placeholder:"Status",onChangeSort:_,variant:"dark",class:"sort-by-status booking-sort"},null,8,["options","selected"]),s(P,{label:"Add booking",severity:"primary",size:"small",class:"add-booking ml-auto lg:ml-0"})]),t.value.length&&!r.value.length?(d(),k(p(A),{key:0,severity:"secondary",class:"w-full mt-5 mb-5"},{default:v(()=>e[1]||(e[1]=[N("No bookings were found matching your criteria.")])),_:1})):(d(),k(V,{key:1,bookings:r.value,loading:u.value},null,8,["bookings","loading"])),n("div",M,[s(j,{limit:c.value,total:g.value,onPageChange:h},null,8,["limit","total"])])])]),_:1})])]))}};export{J as default};
