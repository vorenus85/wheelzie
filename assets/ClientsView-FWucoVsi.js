import{d as k,c as xe,b as p,i as Be,k as Ge,a as y,t as Y,r as E,$ as Fe,f as L,w as D,u as x,a0 as ce,g as te,j as J,e as B,a1 as Ye,o as Je,P as Ke,S as Xe,n as Qe,a2 as M,a3 as We,s as et}from"./index-CISK8WdI.js";import{s as tt,_ as st}from"./ConfirmDialog-AVtrzG97.js";import{s as se,C as nt}from"./index-CO5YbdnM.js";const rt=[{id:"1",firstName:"Alice",lastName:"Johnson",fullname:"Alice Johnson",email:"alice.johnson@example.com",phone:"123-456-7890",addressLine1:"123 Maple Street",addressLine2:"",city:"",country:"",state:"",zip:"",additional:"",residenceCard:"sample.pdf",driveLicense:"sample2.pdf",points:80},{id:"2",firstName:"Bob",lastName:"Smith",fullname:"Bob Smith",email:"bob.smith@example.com",phone:"234-567-8901",addressLine1:"456 Oak Avenue",addressLine2:"",city:"",country:"",state:"",zip:"",additional:"",residenceCard:"sample.pdf",driveLicense:"",points:120},{id:"3",firstName:"Charlie",lastName:"Davies",fullname:"Charlie Davies",email:"charlie.davis@example.com",phone:"345-678-9012",addressLine1:"789 Pine Road",addressLine2:"",city:"",country:"",state:"",zip:"",additional:"",residenceCard:"",driveLicense:"sample2.pdf",points:150},{id:"4",firstName:"Diana",lastName:"White",fullname:"Diana White",email:"diana.white@example.com",phone:"456-789-0123",addressLine1:"101 Birch Lane",addressLine2:"",city:"",country:"",state:"",zip:"",additional:"",residenceCard:"sample2.pdf",driveLicense:"sample2.pdf",points:50}],Q=[...rt],de={getClients:async(n={},e=null,t=0,s=5)=>{const r=Math.floor(Math.random()*1001)+500;return new Promise(i=>{setTimeout(()=>{let a=[...Q];n!=null&&n.expression&&(a=a.filter(o=>!o.firstName||new RegExp(n==null?void 0:n.expression.toLowerCase(),"i").test(o.firstName.toLowerCase())||!o.lastName||new RegExp(n==null?void 0:n.expression.toLowerCase(),"i").test(o.lastName.toLowerCase())||!o.fullname||new RegExp(n==null?void 0:n.expression.toLowerCase(),"i").test(o.fullname.toLowerCase())||!o.email||new RegExp(n==null?void 0:n.expression.toLowerCase(),"i").test(o.email.toLowerCase())||!o.phone||new RegExp(n==null?void 0:n.expression.toLowerCase(),"i").test(o.phone.toLowerCase())));const l=t===0?0:t*s,u=t===0?s:(t+1)*s,f=a.slice(l,u);i({ok:1,total:a.length,data:f})},r)})},deleteClient:async n=>new Promise(e=>{setTimeout(()=>{const t=Q.findIndex(s=>s.id===n);if(t!==-1){const s=Q.splice(t,1);e({ok:1,message:"Client deleted successfully",data:s})}else e({ok:0,message:"Client not found"})},500)}),deleteClients:async n=>new Promise(e=>{setTimeout(()=>{if(!Array.isArray(n)){e({ok:0,message:"Invalid input. Please provide an array of IDs."});return}const t=[];n.forEach(s=>{const r=Q.findIndex(i=>i.id===s);r!==-1&&t.push(...Q.splice(r,1))}),t.length>0?e({ok:1,message:`${t.length} client(s) deleted successfully`,data:t}):e({ok:0,message:"No matching clients found"})},500)})},it=["width","height"],at={__name:"iconFile",props:{size:{type:Number,default:24}},setup(n){return(e,t)=>(k(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.size,height:n.size,viewBox:"0 0 12 12",fill:"none"},t[0]||(t[0]=[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.09467 1.34467C2.23532 1.20402 2.42609 1.125 2.625 1.125H7.125C7.22446 1.125 7.31984 1.16451 7.39016 1.23483L10.0152 3.85984C10.0855 3.93016 10.125 4.02554 10.125 4.125V10.125C10.125 10.3239 10.046 10.5147 9.90533 10.6553C9.76468 10.796 9.57391 10.875 9.375 10.875H2.625C2.42609 10.875 2.23532 10.796 2.09467 10.6553C1.95402 10.5147 1.875 10.3239 1.875 10.125V1.875C1.875 1.67609 1.95402 1.48532 2.09467 1.34467ZM6.96967 1.875L2.625 1.875L2.625 10.125H9.375V4.28033L6.96967 1.875Z",fill:"currentColor"},null,-1),p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.125 1.125C7.33211 1.125 7.5 1.29289 7.5 1.5V3.75H9.75C9.95711 3.75 10.125 3.91789 10.125 4.125C10.125 4.33211 9.95711 4.5 9.75 4.5H7.125C6.91789 4.5 6.75 4.33211 6.75 4.125V1.5C6.75 1.29289 6.91789 1.125 7.125 1.125Z",fill:"currentColor"},null,-1),p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.125 6.375C4.125 6.16789 4.29289 6 4.5 6H7.5C7.70711 6 7.875 6.16789 7.875 6.375C7.875 6.58211 7.70711 6.75 7.5 6.75H4.5C4.29289 6.75 4.125 6.58211 4.125 6.375Z",fill:"currentColor"},null,-1),p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.125 7.875C4.125 7.66789 4.29289 7.5 4.5 7.5H7.5C7.70711 7.5 7.875 7.66789 7.875 7.875C7.875 8.08211 7.70711 8.25 7.5 8.25H4.5C4.29289 8.25 4.125 8.08211 4.125 7.875Z",fill:"currentColor"},null,-1)]),8,it))}},lt={class:"document-tag gap-2 flex"},ut={class:"document-tag-icon flex items-center justify-center"},ot={class:"document-tag-name"},ct={__name:"DocumentTag",props:{firstName:String,cardType:{type:String,validator:n=>["residenceCard","driveLicense"].includes(n)}},setup(n){const e=n,t=Ge(()=>{const s=e.cardType==="residenceCard"?"Residence Card":"License";return`${e.firstName}'s ${s}`});return(s,r)=>(k(),xe("div",lt,[p("div",ut,[y(at,{size:12})]),p("div",ot,Y(t.value),1)]))}},ke=Be(ct,[["__scopeId","data-v-106c6e68"]]);function dt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function q(n){this._maxSize=n,this.clear()}q.prototype.clear=function(){this._size=0,this._values=Object.create(null)};q.prototype.get=function(n){return this._values[n]};q.prototype.set=function(n,e){return this._size>=this._maxSize&&this.clear(),n in this._values||this._size++,this._values[n]=e};var ft=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Le=/^\d+$/,ht=/^\d/,pt=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,mt=/^\s*(['"]?)(.*?)(\1)\s*$/,be=512,Se=new q(be),Oe=new q(be),Te=new q(be),P={Cache:q,split:pe,normalizePath:fe,setter:function(n){var e=fe(n);return Oe.get(n)||Oe.set(n,function(s,r){for(var i=0,a=e.length,l=s;i<a-1;){var u=e[i];if(u==="__proto__"||u==="constructor"||u==="prototype")return s;l=l[e[i++]]}l[e[i]]=r})},getter:function(n,e){var t=fe(n);return Te.get(n)||Te.set(n,function(r){for(var i=0,a=t.length;i<a;)if(r!=null||!e)r=r[t[i++]];else return;return r})},join:function(n){return n.reduce(function(e,t){return e+(ve(t)||Le.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(n,e,t){yt(Array.isArray(n)?n:pe(n),e,t)}};function fe(n){return Se.get(n)||Se.set(n,pe(n).map(function(e){return e.replace(mt,"$2")}))}function pe(n){return n.match(ft)||[""]}function yt(n,e,t){var s=n.length,r,i,a,l;for(i=0;i<s;i++)r=n[i],r&&(bt(r)&&(r='"'+r+'"'),l=ve(r),a=!l&&/^\d+$/.test(r),e.call(t,r,l,a,i,n))}function ve(n){return typeof n=="string"&&n&&["'",'"'].indexOf(n.charAt(0))!==-1}function gt(n){return n.match(ht)&&!n.match(Le)}function xt(n){return pt.test(n)}function bt(n){return!ve(n)&&(gt(n)||xt(n))}const vt=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,le=n=>n.match(vt)||[],ue=n=>n[0].toUpperCase()+n.slice(1),we=(n,e)=>le(n).join(e).toLowerCase(),Ie=n=>le(n).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),wt=n=>ue(Ie(n)),_t=n=>we(n,"_"),$t=n=>we(n,"-"),Ct=n=>ue(we(n," ")),Et=n=>le(n).map(ue).join(" ");var he={words:le,upperFirst:ue,camelCase:Ie,pascalCase:wt,snakeCase:_t,kebabCase:$t,sentenceCase:Ct,titleCase:Et},_e={exports:{}};_e.exports=function(n){return Ve(Ft(n),n)};_e.exports.array=Ve;function Ve(n,e){var t=n.length,s=new Array(t),r={},i=t,a=kt(e),l=St(n);for(e.forEach(function(f){if(!l.has(f[0])||!l.has(f[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)r[i]||u(n[i],i,new Set);return s;function u(f,o,d){if(d.has(f)){var c;try{c=", node was:"+JSON.stringify(f)}catch{c=""}throw new Error("Cyclic dependency"+c)}if(!l.has(f))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(f));if(!r[o]){r[o]=!0;var h=a.get(f)||new Set;if(h=Array.from(h),o=h.length){d.add(f);do{var v=h[--o];u(v,l.get(v),d)}while(o);d.delete(f)}s[--t]=f}}}function Ft(n){for(var e=new Set,t=0,s=n.length;t<s;t++){var r=n[t];e.add(r[0]),e.add(r[1])}return Array.from(e)}function kt(n){for(var e=new Map,t=0,s=n.length;t<s;t++){var r=n[t];e.has(r[0])||e.set(r[0],new Set),e.has(r[1])||e.set(r[1],new Set),e.get(r[0]).add(r[1])}return e}function St(n){for(var e=new Map,t=0,s=n.length;t<s;t++)e.set(n[t],t);return e}var Ot=_e.exports;const Tt=dt(Ot),Dt=Object.prototype.toString,Nt=Error.prototype.toString,At=RegExp.prototype.toString,jt=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",zt=/^Symbol\((.*)\)(.*)$/;function Lt(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function De(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return Lt(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return jt.call(n).replace(zt,"Symbol($1)");const s=Dt.call(n).slice(8,-1);return s==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):s==="Error"||n instanceof Error?"["+Nt.call(n)+"]":s==="RegExp"?At.call(n):null}function I(n,e){let t=De(n,e);return t!==null?t:JSON.stringify(n,function(s,r){let i=De(this[s],e);return i!==null?i:r},2)}function Me(n){return n==null?[]:[].concat(n)}let Re,Pe,qe,It=/\$\{\s*(\w+)\s*\}/g;Re=Symbol.toStringTag;class Ne{constructor(e,t,s,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Re]="Error",this.name="ValidationError",this.value=t,this.path=s,this.type=r,this.errors=[],this.inner=[],Me(e).forEach(i=>{if($.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Pe=Symbol.hasInstance;qe=Symbol.toStringTag;class $ extends Error{static formatError(e,t){const s=t.label||t.path||"this";return t=Object.assign({},t,{path:s,originalPath:t.path}),typeof e=="string"?e.replace(It,(r,i)=>I(t[i])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,s,r,i){const a=new Ne(e,t,s,r);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[qe]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,$)}static[Pe](e){return Ne[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let T={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:s})=>{const r=s!=null&&s!==t?` (cast from the value \`${I(s,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${I(t,!0)}\``+r:`${n} must match the configured type. The validated value was: \`${I(t,!0)}\``+r}},_={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Vt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},me={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Mt={isValue:"${path} field must be ${value}"},ne={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Rt={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Pt={notType:n=>{const{path:e,value:t,spec:s}=n,r=s.types.length;if(Array.isArray(t)){if(t.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${t.length} for value: \`${I(t,!0)}\``;if(t.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${t.length} for value: \`${I(t,!0)}\``}return $.formatError(T.notType,n)}};Object.assign(Object.create(null),{mixed:T,string:_,number:Vt,date:me,object:ne,array:Rt,boolean:Mt,tuple:Pt});const $e=n=>n&&n.__isYupSchema__;class ie{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:r,otherwise:i}=t,a=typeof s=="function"?s:(...l)=>l.every(u=>u===s);return new ie(e,(l,u)=>{var f;let o=a(...l)?r:i;return(f=o==null?void 0:o(u))!=null?f:u})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let s=this.refs.map(i=>i.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),r=this.fn(s,e,t);if(r===void 0||r===e)return e;if(!$e(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const ee={context:"$",value:"."};class U{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ee.context,this.isValue=this.key[0]===ee.value,this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?ee.context:this.isValue?ee.value:"";this.path=this.key.slice(s.length),this.getter=this.path&&P.getter(this.path,!0),this.map=t.map}getValue(e,t,s){let r=this.isContext?s:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}U.prototype.__isYupRef=!0;const R=n=>n==null;function H(n){function e({value:t,path:s="",options:r,originalValue:i,schema:a},l,u){const{name:f,test:o,params:d,message:c,skipAbsent:h}=n;let{parent:v,context:b,abortEarly:S=a.spec.abortEarly,disableStackTrace:Z=a.spec.disableStackTrace}=r;function A(g){return U.isRef(g)?g.getValue(t,v,b):g}function W(g={}){const V=Object.assign({value:t,originalValue:i,label:a.spec.label,path:g.path||s,spec:a.spec,disableStackTrace:g.disableStackTrace||Z},d,g.params);for(const Ee of Object.keys(V))V[Ee]=A(V[Ee]);const Ce=new $($.formatError(g.message||c,V),t,V.path,g.type||f,V.disableStackTrace);return Ce.params=V,Ce}const K=S?l:u;let O={path:s,parent:v,type:f,from:r.from,createError:W,resolve:A,options:r,originalValue:i,schema:a};const m=g=>{$.isError(g)?K(g):g?u(null):K(W())},C=g=>{$.isError(g)?K(g):l(g)};if(h&&R(t))return m(!0);let j;try{var X;if(j=o.call(O,t,O),typeof((X=j)==null?void 0:X.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${O.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(j).then(m,C)}}catch(g){C(g);return}m(j)}return e.OPTIONS=n,e}function qt(n,e,t,s=t){let r,i,a;return e?(P.forEach(e,(l,u,f)=>{let o=u?l.slice(1,l.length-1):l;n=n.resolve({context:s,parent:r,value:t});let d=n.type==="tuple",c=f?parseInt(o,10):0;if(n.innerType||d){if(d&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&c>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);r=t,t=t&&t[c],n=d?n.spec.types[c]:n.innerType}if(!f){if(!n.fields||!n.fields[o])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${n.type}")`);r=t,t=t&&t[o],n=n.fields[o]}i=o,a=u?"["+l+"]":"."+l}),{schema:n,parent:r,parentPath:i}):{parent:r,parentPath:e,schema:n}}class ae extends Set{describe(){const e=[];for(const t of this.values())e.push(U.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const s of this.values())t.push(e(s));return t}clone(){return new ae(this.values())}merge(e,t){const s=this.clone();return e.forEach(r=>s.add(r)),t.forEach(r=>s.delete(r)),s}}function G(n,e=new Map){if($e(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let s=0;s<n.length;s++)t[s]=G(n[s],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[s,r]of n.entries())t.set(s,G(r,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const s of n)t.add(G(s,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[s,r]of Object.entries(n))t[s]=G(r,e)}else throw Error(`Unable to clone ${n}`);return t}class N{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ae,this._blacklist=new ae,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(T.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=G(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let s=e(this);return this._mutate=t,s}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,s=e.clone();const r=Object.assign({},t.spec,s.spec);return s.spec=r,s.internalTests=Object.assign({},t.internalTests,s.internalTests),s._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),s._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),s.tests=t.tests,s.exclusiveTests=t.exclusiveTests,s.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),s.transforms=[...t.transforms,...s.transforms],s}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let s=t.conditions;t=t.clone(),t.conditions=[],t=s.reduce((r,i)=>i.resolve(r,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,s,r,i;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(s=e.abortEarly)!=null?s:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,t={}){let s=this.resolve(Object.assign({value:e},t)),r=t.assert==="ignore-optionality",i=s._cast(e,t);if(t.assert!==!1&&!s.isType(i)){if(r&&R(i))return i;let a=I(e),l=I(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${s.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return i}_cast(e,t){let s=e===void 0?e:this.transforms.reduce((r,i)=>i.call(this,r,e,this),e);return s===void 0&&(s=this.getDefault(t)),s}_validate(e,t={},s,r){let{path:i,originalValue:a=e,strict:l=this.spec.strict}=t,u=e;l||(u=this._cast(u,Object.assign({assert:!1},t)));let f=[];for(let o of Object.values(this.internalTests))o&&f.push(o);this.runTests({path:i,value:u,originalValue:a,options:t,tests:f},s,o=>{if(o.length)return r(o,u);this.runTests({path:i,value:u,originalValue:a,options:t,tests:this.tests},s,r)})}runTests(e,t,s){let r=!1,{tests:i,value:a,originalValue:l,path:u,options:f}=e,o=b=>{r||(r=!0,t(b,a))},d=b=>{r||(r=!0,s(b,a))},c=i.length,h=[];if(!c)return d([]);let v={value:a,originalValue:l,path:u,options:f,schema:this};for(let b=0;b<i.length;b++){const S=i[b];S(v,o,function(A){A&&(Array.isArray(A)?h.push(...A):h.push(A)),--c<=0&&d(h)})}}asNestedTest({key:e,index:t,parent:s,parentPath:r,originalParent:i,options:a}){const l=e??t;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let f=s[l];const o=Object.assign({},a,{strict:!0,parent:s,value:f,originalValue:i[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${r||""}[${u?l:`"${l}"`}]`:(r?`${r}.`:"")+e});return(d,c,h)=>this.resolve(o)._validate(f,o,c,h)}validate(e,t){var s;let r=this.resolve(Object.assign({},t,{value:e})),i=(s=t==null?void 0:t.disableStackTrace)!=null?s:r.spec.disableStackTrace;return new Promise((a,l)=>r._validate(e,t,(u,f)=>{$.isError(u)&&(u.value=f),l(u)},(u,f)=>{u.length?l(new $(u,f,void 0,void 0,i)):a(f)}))}validateSync(e,t){var s;let r=this.resolve(Object.assign({},t,{value:e})),i,a=(s=t==null?void 0:t.disableStackTrace)!=null?s:r.spec.disableStackTrace;return r._validate(e,Object.assign({},t,{sync:!0}),(l,u)=>{throw $.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new $(l,e,void 0,void 0,a);i=u}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,s=>{if($.isError(s))return!1;throw s})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(s){if($.isError(s))return!1;throw s}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):G(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const s=this.clone({nullable:e});return s.internalTests.nullable=H({message:t,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),s}optionality(e,t){const s=this.clone({optional:e});return s.internalTests.optionality=H({message:t,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),s}optional(){return this.optionality(!0)}defined(e=T.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=T.notNull){return this.nullability(!1,e)}required(e=T.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=T.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let s=this.clone(),r=H(t),i=t.exclusive||t.name&&s.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(s.exclusiveTests[t.name]=!!t.exclusive),s.tests=s.tests.filter(a=>!(a.OPTIONS.name===t.name&&(i||a.OPTIONS.test===r.OPTIONS.test))),s.tests.push(r),s}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let s=this.clone(),r=Me(e).map(i=>new U(i));return r.forEach(i=>{i.isSibling&&s.deps.push(i.key)}),s.conditions.push(typeof t=="function"?new ie(r,t):ie.fromOptions(r,t)),s}typeError(e){let t=this.clone();return t.internalTests.typeError=H({message:e,name:"typeError",skipAbsent:!0,test(s){return this.schema._typeCheck(s)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=T.oneOf){let s=this.clone();return e.forEach(r=>{s._whitelist.add(r),s._blacklist.delete(r)}),s.internalTests.whiteList=H({message:t,name:"oneOf",skipAbsent:!0,test(r){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(r)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),s}notOneOf(e,t=T.notOneOf){let s=this.clone();return e.forEach(r=>{s._blacklist.add(r),s._whitelist.delete(r)}),s.internalTests.blacklist=H({message:t,name:"notOneOf",test(r){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(r)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),s}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:s,meta:r,optional:i,nullable:a}=t.spec;return{meta:r,label:s,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,f,o)=>o.findIndex(d=>d.name===u.name)===f)}}}N.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])N.prototype[`${n}At`]=function(e,t,s={}){const{parent:r,parentPath:i,schema:a}=qt(this,e,t,s.context);return a[n](r&&r[i],Object.assign({},s,{parent:r,path:e}))};for(const n of["equals","is"])N.prototype[n]=N.prototype.oneOf;for(const n of["not","nope"])N.prototype[n]=N.prototype.notOneOf;const Ut=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Zt(n){const e=ye(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function ye(n){var e,t;const s=Ut.exec(n);return s?{year:z(s[1]),month:z(s[2],1)-1,day:z(s[3],1),hour:z(s[4]),minute:z(s[5]),second:z(s[6]),millisecond:s[7]?z(s[7].substring(0,3)):0,precision:(e=(t=s[7])==null?void 0:t.length)!=null?e:void 0,z:s[8]||void 0,plusMinus:s[9]||void 0,hourOffset:z(s[10]),minuteOffset:z(s[11])}:null}function z(n,e=0){return Number(n)||e}let Ht=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bt=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Gt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Yt="^\\d{4}-\\d{2}-\\d{2}",Jt="\\d{2}:\\d{2}:\\d{2}",Kt="(([+-]\\d{2}(:?\\d{2})?)|Z)",Xt=new RegExp(`${Yt}T${Jt}(\\.\\d+)?${Kt}$`),Qt=n=>R(n)||n===n.trim(),Wt={}.toString();function F(){return new Ue}class Ue extends N{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,s)=>{if(!s.spec.coerce||s.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===Wt?e:r})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||T.required,name:"required",skipAbsent:!0,test:s=>!!s.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=_.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(s){return s.length===this.resolve(e)}})}min(e,t=_.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s.length>=this.resolve(e)}})}max(e,t=_.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(s){return s.length<=this.resolve(e)}})}matches(e,t){let s=!1,r,i;return t&&(typeof t=="object"?{excludeEmptyString:s=!1,message:r,name:i}=t:r=t),this.test({name:i||"matches",message:r||_.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&s||a.search(e)!==-1})}email(e=_.email){return this.matches(Ht,{name:"email",message:e,excludeEmptyString:!0})}url(e=_.url){return this.matches(Bt,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=_.uuid){return this.matches(Gt,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",s,r;return e&&(typeof e=="object"?{message:t="",allowOffset:s=!1,precision:r=void 0}=e:t=e),this.matches(Xt,{name:"datetime",message:t||_.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||_.datetime_offset,params:{allowOffset:s},skipAbsent:!0,test:i=>{if(!i||s)return!0;const a=ye(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:t||_.datetime_precision,params:{precision:r},skipAbsent:!0,test:i=>{if(!i||r==null)return!0;const a=ye(i);return a?a.precision===r:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=_.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:Qt})}lowercase(e=_.lowercase){return this.transform(t=>R(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>R(t)||t===t.toLowerCase()})}uppercase(e=_.uppercase){return this.transform(t=>R(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>R(t)||t===t.toUpperCase()})}}F.prototype=Ue.prototype;let es=new Date(""),ts=n=>Object.prototype.toString.call(n)==="[object Date]";class oe extends N{constructor(){super({type:"date",check(e){return ts(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,s)=>!s.spec.coerce||s.isType(e)||e===null?e:(e=Zt(e),isNaN(e)?oe.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let s;if(U.isRef(e))s=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);s=r}return s}min(e,t=me.min){let s=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(s)}})}max(e,t=me.max){let s=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(s)}})}}oe.INVALID_DATE=es;oe.prototype;function ss(n,e=[]){let t=[],s=new Set,r=new Set(e.map(([a,l])=>`${a}-${l}`));function i(a,l){let u=P.split(a)[0];s.add(u),r.has(`${l}-${u}`)||t.push([l,u])}for(const a of Object.keys(n)){let l=n[a];s.add(a),U.isRef(l)&&l.isSibling?i(l.path,a):$e(l)&&"deps"in l&&l.deps.forEach(u=>i(u,a))}return Tt.array(Array.from(s),t).reverse()}function Ae(n,e){let t=1/0;return n.some((s,r)=>{var i;if((i=e.path)!=null&&i.includes(s))return t=r,!0}),t}function Ze(n){return(e,t)=>Ae(n,e)-Ae(n,t)}const ns=(n,e,t)=>{if(typeof n!="string")return n;let s=n;try{s=JSON.parse(n)}catch{}return t.isType(s)?s:n};function re(n){if("fields"in n){const e={};for(const[t,s]of Object.entries(n.fields))e[t]=re(s);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=re(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(re)}):"optional"in n?n.optional():n}const rs=(n,e)=>{const t=[...P.normalizePath(e)];if(t.length===1)return t[0]in n;let s=t.pop(),r=P.getter(P.join(t),!0)(n);return!!(r&&s in r)};let je=n=>Object.prototype.toString.call(n)==="[object Object]";function ze(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(s=>t.indexOf(s)===-1)}const is=Ze([]);function ge(n){return new He(n)}class He extends N{constructor(e){super({type:"object",check(t){return je(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=is,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var s;let r=super._cast(e,t);if(r===void 0)return this.getDefault(t);if(!this._typeCheck(r))return r;let i=this.fields,a=(s=t.stripUnknown)!=null?s:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(r).filter(d=>!this._nodes.includes(d))),u={},f=Object.assign({},t,{parent:u,__validating:t.__validating||!1}),o=!1;for(const d of l){let c=i[d],h=d in r;if(c){let v,b=r[d];f.path=(t.path?`${t.path}.`:"")+d,c=c.resolve({value:b,context:t.context,parent:u});let S=c instanceof N?c.spec:void 0,Z=S==null?void 0:S.strict;if(S!=null&&S.strip){o=o||d in r;continue}v=!t.__validating||!Z?c.cast(r[d],f):r[d],v!==void 0&&(u[d]=v)}else h&&!a&&(u[d]=r[d]);(h!==d in u||u[d]!==r[d])&&(o=!0)}return o?u:r}_validate(e,t={},s,r){let{from:i=[],originalValue:a=e,recursive:l=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,s,(u,f)=>{if(!l||!je(f)){r(u,f);return}a=a||f;let o=[];for(let d of this._nodes){let c=this.fields[d];!c||U.isRef(c)||o.push(c.asNestedTest({options:t,key:d,parent:f,parentPath:t.path,originalParent:a}))}this.runTests({tests:o,value:f,originalValue:a,options:t},s,d=>{r(d.sort(this._sortErrors).concat(u),f)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),s=t.fields;for(let[r,i]of Object.entries(this.fields)){const a=s[r];s[r]=a===void 0?i:a}return t.withMutation(r=>r.setFields(s,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(s=>{var r;const i=this.fields[s];let a=e;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),t[s]=i&&"getDefault"in i?i.getDefault(a):void 0}),t}setFields(e,t){let s=this.clone();return s.fields=e,s._nodes=ss(e,t),s._sortErrors=Ze(Object.keys(e)),t&&(s._excludedEdges=t),s}shape(e,t=[]){return this.clone().withMutation(s=>{let r=s._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...s._excludedEdges,...t]),s.setFields(Object.assign(s.fields,e),r)})}partial(){const e={};for(const[t,s]of Object.entries(this.fields))e[t]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(e)}deepPartial(){return re(this)}pick(e){const t={};for(const s of e)this.fields[s]&&(t[s]=this.fields[s]);return this.setFields(t,this._excludedEdges.filter(([s,r])=>e.includes(s)&&e.includes(r)))}omit(e){const t=[];for(const s of Object.keys(this.fields))e.includes(s)||t.push(s);return this.pick(t)}from(e,t,s){let r=P.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return rs(i,e)&&(a=Object.assign({},i),s||delete a[e],a[t]=r(i)),a})}json(){return this.transform(ns)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||ne.exact,test(t){if(t==null)return!0;const s=ze(this.schema,t);return s.length===0||this.createError({params:{properties:s.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=ne.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:t,test(r){if(r==null)return!0;const i=ze(this.schema,r);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return s.spec.noUnknown=e,s}unknown(e=!0,t=ne.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const s={};for(const r of Object.keys(t))s[e(r)]=t[r];return s})}camelCase(){return this.transformKeys(he.camelCase)}snakeCase(){return this.transformKeys(he.snakeCase)}constantCase(){return this.transformKeys(e=>he.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),s=super.describe(e);s.fields={};for(const[i,a]of Object.entries(t.fields)){var r;let l=e;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),s.fields[i]=a.describe(l)}return s}}ge.prototype=He.prototype;const as={class:"flex gap-1 my-2"},ls={class:"w-1/2"},us={class:"flex gap-1 my-2"},os={class:"w-1/2"},cs={class:"flex gap-1 my-2"},ds={class:"w-1/2"},fs={class:"flex gap-2 justify-end mt-5 py-3"},hs={__name:"ClientDialog",props:{header:{type:String,default:"Confirmation"},client:Object,showDialog:Boolean},emits:["save","hide"],setup(n,{emit:e}){const t=e,s=E(!1),r=n,i=E({firstName:"",lastName:"",email:"",phone:"",addressLine1:"",addressLine2:"",city:"",country:"",state:"",zip:"",additional:"",residenceCard:"",driveLicense:"",points:""}),a=ge({firstName:F().required("First Name is required"),lastName:F().required("Last Name is required"),email:F().email("Invalid email").required("Email is required"),phone:F().optional(),addressLine1:F().required("Address Line 1 is required"),addressLine2:F().optional(),city:F().required("City is required"),country:F().required("Country is required"),state:F().required("State is required"),zip:F().required("Zip is required"),additional:F().optional()}),l=E({});Fe(()=>r.client,d=>{i.value={...d}}),Fe(()=>r.showDialog,d=>{s.value=d});const u=async d=>{try{const c={[d]:i.value[d]};await ge({[d]:a.fields[d]}).validate(c),delete l.value[d]}catch(c){l.value[d]=c.message}},f=async()=>{try{l.value={},await a.validate(i.value,{abortEarly:!1}),t("save",i.value),o()}catch(d){d.inner&&d.inner.forEach(c=>{l.value[c.path]=c.message})}},o=()=>{t("hide")};return(d,c)=>(k(),L(x(tt),{header:n.header,visible:s.value,"onUpdate:visible":[c[6]||(c[6]=h=>s.value=h),o],style:{width:"650px"},modal:!0},{default:D(()=>[p("form",{onSubmit:Ye(f,["prevent"])},[p("div",as,[c[7]||(c[7]=p("div",{class:"flex items-start pt-3 w-1/2"},[p("label",{for:"firstName"},"First Name")],-1)),p("div",ls,[y(x(ce),{modelValue:i.value.firstName,"onUpdate:modelValue":c[0]||(c[0]=h=>i.value.firstName=h),onInput:c[1]||(c[1]=h=>u("firstName")),type:"text",id:"firstName",class:"w-full"},null,8,["modelValue"]),l.value.firstName?(k(),L(x(se),{key:0,severity:"error",size:"small",outlined:"",icon:"pi pi-times-circle",class:"my-2"},{default:D(()=>[te(Y(l.value.firstName),1)]),_:1})):J("",!0)])]),p("div",us,[c[8]||(c[8]=p("div",{class:"flex items-start pt-3 w-1/2"},[p("label",{for:"lastName"},"Last Name")],-1)),p("div",os,[y(x(ce),{modelValue:i.value.lastName,"onUpdate:modelValue":c[2]||(c[2]=h=>i.value.lastName=h),onInput:c[3]||(c[3]=h=>u("lastName")),type:"text",id:"lastName",class:"w-full"},null,8,["modelValue"]),l.value.lastName?(k(),L(x(se),{key:0,severity:"error",size:"small",outlined:"",icon:"pi pi-times-circle",class:"my-2"},{default:D(()=>[te(Y(l.value.lastName),1)]),_:1})):J("",!0)])]),p("div",cs,[c[9]||(c[9]=p("div",{class:"flex items-start pt-3 w-1/2"},[p("label",{for:"email"},"Email")],-1)),p("div",ds,[y(x(ce),{modelValue:i.value.email,"onUpdate:modelValue":c[4]||(c[4]=h=>i.value.email=h),onInput:c[5]||(c[5]=h=>u("email")),type:"email",id:"email",class:"w-full"},null,8,["modelValue"]),l.value.email?(k(),L(x(se),{key:0,severity:"error",size:"small",outlined:"",icon:"pi pi-times-circle",class:"my-2"},{default:D(()=>[te(Y(l.value.email),1)]),_:1})):J("",!0)])]),p("div",fs,[y(B,{label:"Cancel",onClick:o,outlined:"",severity:"secondary"}),y(B,{label:"Save",type:"submit",severity:"primary",autofocus:""})])],32)]),_:1},8,["header","visible"]))}},ps={class:"page page-clients"},ms={class:"page-content"},ys={class:"clients-table"},gs={class:"module module-with-scroller module-with-scroller-lg p-1"},xs={class:"page-content-top mb-3 pb-1 flex gap-2 flex-wrap"},bs={class:"text-muted"},vs={class:"flex gap-2"},ws={class:"page-content-bottom"},Es={__name:"ClientsView",setup(n){const e=E(""),t=E(!1),s=E(!1),r=E(null),i=E([]),a=E([]),l=E(8),u=E(0),f=E(0),o=E(!0),d=({page:m,rows:C})=>{f.value=m,l.value=C,O()},c=m=>{e.value=m,O()},h=m=>{console.log("onEditClient",m)},v=m=>{r.value=m,s.value=!0},b=()=>{r.value=null,s.value=!1},S=()=>{t.value=!1},Z=()=>{S(),O()},A=()=>{i!=null&&i.value.length?W():K(r.value),b()},W=()=>{const m=i.value.map(C=>C.id);de.deleteClients(m),i.value=[],O()},K=m=>{de.deleteClient(m),O()},O=async()=>{o.value=!0;try{const m=await de.getClients({expression:e==null?void 0:e.value},null,f.value,l.value);if(!m.ok)throw new Error("Failed to load data");a.value=m.data,u.value=m.total}catch(m){m.value=m.message}finally{o.value=!1}};return Je(()=>{O()}),(m,C)=>(k(),xe("div",ps,[y(Ke,{title:"Clients"}),p("div",ms,[p("div",ys,[y(x(et),null,{content:D(()=>[p("div",gs,[p("div",xs,[y(Xe,{variant:"dark",placeholder:"Search for client",onSearchInput:c,filter:e.value},null,8,["filter"]),i.value.length?(k(),L(B,{key:0,severity:"secondary",label:"Delete selected",size:"small",class:"ml-auto delete-selected-clients",onClick:v})):J("",!0),y(B,{label:"Add client",severity:"primary",size:"small",onClick:C[0]||(C[0]=w=>t.value=!0),class:Qe([i.value.length?"ml-0":"ml-auto","add-new-client"])},null,8,["class"])]),e.value.length&&!a.value.length?(k(),L(x(se),{key:0,severity:"secondary",class:"w-full mt-5 mb-5"},{default:D(()=>C[2]||(C[2]=[te("No clients were found matching your criteria.")])),_:1})):(k(),L(x(We),{key:1,class:"outlined",scrollable:"",selection:i.value,"onUpdate:selection":C[1]||(C[1]=w=>i.value=w),value:a.value,loading:o.value,tableStyle:"min-width: 50rem"},{default:D(()=>[y(x(M),{selectionMode:"multiple",headerStyle:"width: 3rem"}),y(x(M),{field:"fullname",sortable:"",header:"Client"},{body:D(w=>[p("div",null,Y(w.data.fullname),1),p("span",bs,Y(w.data.email),1)]),_:1}),y(x(M),{field:"phone",sortable:"",header:"Phone"}),y(x(M),{field:"addressLine1",sortable:"",header:"Address"}),y(x(M),{header:"Documents"},{body:D(w=>{var j,X;return[(j=w.data)!=null&&j.residenceCard?(k(),L(ke,{key:0,class:"my-1","card-type":"residenceCard",firstName:w.data.firstName},null,8,["firstName"])):J("",!0),(X=w.data)!=null&&X.driveLicense?(k(),L(ke,{key:1,class:"my-1","card-type":"driveLicense",firstName:w.data.firstName},null,8,["firstName"])):J("",!0)]}),_:1}),y(x(M),{field:"points",sortable:"",header:"Points"}),y(x(M),{header:"Actions"},{body:D(w=>[p("div",vs,[y(B,{size:"small",label:"Edit",outlined:"",onClick:j=>h(w.data)},null,8,["onClick"]),y(B,{size:"small",label:"Delete",outlined:"",onClick:j=>v(w.data.id)},null,8,["onClick"])])]),_:1})]),_:1},8,["selection","value","loading"])),p("div",ws,[y(nt,{limit:l.value,total:u.value,onPageChange:d},null,8,["limit","total"])])])]),_:1})])]),y(st,{showDialog:s.value,onApplyConfirmation:A,onHide:b},null,8,["showDialog"]),y(hs,{showDialog:t.value,onSave:Z,onHide:S},null,8,["showDialog"])]))}};export{Es as default};
